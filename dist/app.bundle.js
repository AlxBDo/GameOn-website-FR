(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i;return n=t,i=[{key:"checkBirthdate",value:function(e){var t=new Date,n=t.getFullYear()+""+(t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1)+(t.getDay()<10?"0"+(t.getDay()+1):t.getDay()+1),i=e.split("-").join("");return!!(/(^[0-9]{4}-{1}[0-9]{2}-{1}[0-9]{2}$)/.test(e)&&i<parseInt(n)-119969&&i>parseInt(n)-12e5)}},{key:"checkLocation",value:function(){return 0!==document.querySelectorAll('input[name="location"]:checked').length}},{key:"checkMail",value:function(e){return!!/([\w-\.]+@[\w\.]+\.{1}[\w]+)/.test(e)}},{key:"checkName",value:function(e){return!(e.length<2||!isNaN(e)||/[@:./\\_\{\}\[\]\(\)\|\%\*\$\£\?\!\&\~\#\`µ0-9]/.test(e))}},{key:"checkQuantity",value:function(e){return!isNaN(e)&&""!==e}},{key:"isEmpty",value:function(e){return""===e}}],null&&e(n.prototype,null),i&&e(n,i),t}();function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t(n,"checkedLocationRadioButton",document.querySelectorAll('input[name="location"]:checked')),t(n,"openFields",document.querySelectorAll("input[type = text], input[type = email], input[type = number], input[type = date]"));var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"apply",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.classHtmlHandler(e,t),n&&!t&&e.focus(),t}},{key:"classHtmlHandler",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?[this.validateHtmlClass,this.errorHtmlClass]:[this.errorHtmlClass,this.validateHtmlClass],i=e.parentNode.classList;i.contains(n[0])||(i.add(n[0]),i.contains(n[1])&&i.remove(n[1]))}},{key:"confirmationReceiptMessage",value:function(e){this.firstNameReservSpan.innerHTML=e,this.confirmReservation.classList.add("valid"),setTimeout((function(){this.confirmReservation.classList.remove("valid")}),3e3)}}],null&&i(t.prototype,null),n&&i(t,n),e}();function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}a(l,"confirmReservation",document.getElementById("confirmReservation")),a(l,"errorHtmlClass","error-ipt"),a(l,"firstNameReservSpan",document.getElementById("firstNameReserv")),a(l,"validateHtmlClass","valid-ipt");var r,c,u,d=document.getElementById("checkbox1"),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,i=[{key:"autoValidation",value:function(e){var t=!1,n=e.getAttribute("id");if("birthdate"===n||"email"===n||"quantity"===n?t=n:"first"!==n&&"last"!==n||(t="name"),t)return this[t+"Validation"](e)}},{key:"inputValidation",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return l.apply(e,n["check"+t](e.value),i)}},{key:"birthdateValidation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.inputValidation(e,"Birthdate",t)}},{key:"emailValidation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.inputValidation(e,"Mail",t)}},{key:"locationValidation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return l.apply(this.location1Btn,n.checkLocation(),e)}},{key:"nameValidation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.inputValidation(e,"Name",t)}},{key:"quantityValidation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.inputValidation(e,"Quantity",t)}},{key:"reservationReceiptValidation",value:function(){var e=window.location.href;if(e.split("?")[1]){var t=new URLSearchParams(e.split("?")[1]);t.has("first")&&l.confirmationReceiptMessage(t.get("first"))}}},{key:"termsAndConditionsValidation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.apply(d,t?!d.checked:d.checked,e)}}],null&&o(t.prototype,null),i&&o(t,i),e}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}r=s,c="location1Btn",u=document.getElementById("location1"),c in r?Object.defineProperty(r,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[c]=u;var m=document.getElementById("birthdate"),h=document.querySelector(".icon"),y=document.querySelectorAll(".close"),p=document.getElementById("email"),g=document.getElementById("first"),b=document.getElementById("last"),k=document.querySelectorAll(".checkbox-label"),w=document.querySelector(".bground"),E=document.querySelectorAll(".modal-btn"),V=document.querySelector(".modal-body form"),B=document.querySelector("form > .btn-submit"),C=document.getElementById("quantity"),I=document.getElementById("checkbox1-label");function L(){w.style.display="none"}function q(e){for(var t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,e),this.ipt=t,this.validFct=n+"Validation",this.validFctParam=i,this.condition=a}var t,n;return t=e,(n=[{key:"check",value:function(){return null!=this.condition&&!this[this.condition]()||this.validationFctIpt(this.validFct,this.validFctParam)}},{key:"locaCondCheck",value:function(){return parseInt(C.value)>0}},{key:"validationFctIpt",value:function(){return null===this.inputObj?s[this.validFct]():null===this.validFctParam?s[this.validFct](this.ipt):s[this.validFct](this.ipt,this.validFctParam)}}])&&f(t.prototype,n),e}(),n=0,i=[new t(g,"name"),new t(b,"name"),new t(p,"email"),new t(m,"birthdate"),new t(C,"quantity"),new t(null,"location",null,"locaCondCheck"),new t(!0,"termsAndConditions",!1)];n<i.length;n++)if(!i[n].check())return e.preventDefault(),!1;return!0}function S(){w.style.display="block"}window.addEventListener("load",s.reservationReceiptValidation),h.addEventListener("click",(function(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"})),y.forEach((function(e){return e.addEventListener("click",L)})),document.querySelectorAll("input").forEach((function(e){e.addEventListener("change",(function(){return s.autoValidation(e)}))})),k.forEach((function(e){e.addEventListener("click",(function(){var t,n;t=e,(n=document.getElementById(t.getAttribute("for"))).checked=!0,l.classHtmlHandler(n)}))})),I.addEventListener("click",s.termsAndConditionsValidation),E.forEach((function(e){return e.addEventListener("click",S)})),V.addEventListener("submit",q),B.addEventListener("click",q)})();