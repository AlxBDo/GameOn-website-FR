(()=>{"use strict";class t{static checkedLocationRadioButton=document.querySelectorAll('input[name="location"]:checked');static openFields=document.querySelectorAll("input[type = text], input[type = email], input[type = number], input[type = date]");static checkBirthdate(t){let e=new Date,i=e.getFullYear()+""+(e.getMonth()<10?"0"+(e.getMonth()+1):e.getMonth()+1)+(e.getDay()<10?"0"+(e.getDay()+1):e.getDay()+1),n=t.split("-").join("");return!!(/(^[0-9]{4}-{1}[0-9]{2}-{1}[0-9]{2}$)/.test(t)&&n<parseInt(i)-119969&&n>parseInt(i)-12e5)}static checkLocation(){return 0!==document.querySelectorAll('input[name="location"]:checked').length}static checkMail(t){return!!/([\w-\.]+@[\w\.]+\.{1}[\w]+)/.test(t)}static checkName(t){return!(t.length<2||!isNaN(t)||/[@:./\\_\{\}\[\]\(\)\|\%\*\$\£\?\!\&\~\#\`µ0-9]/.test(t))}static checkQuantity(t){return!isNaN(t)&&""!==t}static isEmpty(t){return""===t}}class e{static confirmReservation=document.getElementById("confirmReservation");static errorHtmlClass="error-ipt";static firstNameReservSpan=document.getElementById("firstNameReserv");static validateHtmlClass="valid-ipt";static apply(t,e=!0,i=!1){return this.classHtmlHandler(t,e),i&&!e&&t.focus(),e}static classHtmlHandler(t,e=!0){let i=e?[this.validateHtmlClass,this.errorHtmlClass]:[this.errorHtmlClass,this.validateHtmlClass],n=t.parentNode.classList;n.contains(i[0])||(n.add(i[0]),n.contains(i[1])&&n.remove(i[1]))}static confirmationReceiptMessage(t){this.firstNameReservSpan.innerHTML=t,this.confirmReservation.classList.add("valid"),setTimeout((function(){this.confirmReservation.classList.remove("valid")}),3e3)}}const i=document.getElementById("checkbox1");class n{static location1Btn=document.getElementById("location1");static autoValidation(t){let e=!1,i=t.getAttribute("id");if("birthdate"===i||"email"===i||"quantity"===i?e=i:"first"!==i&&"last"!==i||(e="name"),e)return this[e+"Validation"](t)}static inputValidation(i,n,a=!0){return e.apply(i,t["check"+n](i.value),a)}static birthdateValidation(t,e=!0){return this.inputValidation(t,"Birthdate",e)}static emailValidation(t,e=!0){return this.inputValidation(t,"Mail",e)}static locationValidation(i=!0){return e.apply(this.location1Btn,t.checkLocation(),i)}static nameValidation(t,e=!0){return this.inputValidation(t,"Name",e)}static quantityValidation(t,e=!0){return this.inputValidation(t,"Quantity",e)}static reservationReceiptValidation(){let t=window.location.href;if(t.split("?")[1]){let i=new URLSearchParams(t.split("?")[1]);i.has("first")&&e.confirmationReceiptMessage(i.get("first"))}}static termsAndConditionsValidation(t=!0,n=!0){return e.apply(i,n?!i.checked:i.checked,t)}}const a=document.getElementById("birthdate"),c=document.querySelectorAll(".close"),l=document.getElementById("email"),s=document.getElementById("first"),o=(document.querySelectorAll(".formData"),document.getElementById("last")),r=document.querySelectorAll(".checkbox-label"),d=document.querySelector(".bground"),u=document.querySelectorAll(".modal-btn"),m=document.querySelector("form > .btn-submit"),h=document.getElementById("quantity"),p=document.getElementById("checkbox1-label");function y(){d.style.display="none"}function v(){d.style.display="block"}window.addEventListener("load",n.reservationReceiptValidation),c.forEach((t=>t.addEventListener("click",y))),document.querySelectorAll("input").forEach((function(t){t.addEventListener("change",(function(){return n.autoValidation(t)}))})),r.forEach((function(t){t.addEventListener("click",(function(){!function(t){let i=document.getElementById(t.getAttribute("for"));i.checked=!0,e.classHtmlHandler(i)}(t)}))})),p.addEventListener("click",n.termsAndConditionsValidation),u.forEach((t=>t.addEventListener("click",v))),m.addEventListener("click",(function(t){class e{constructor(t=null,e,i=null,n=null){this.ipt=t,this.validFct=e+"Validation",this.validFctParam=i,this.condition=n}check(){return null!=this.condition&&!this[this.condition]()||this.validationFctIpt(this.validFct,this.validFctParam)}locaCondCheck(){return parseInt(h.value)>0}validationFctIpt(){return null===this.inputObj?n[this.validFct]():null===this.validFctParam?n[this.validFct](this.ipt):n[this.validFct](this.ipt,this.validFctParam)}}let i=[new e(s,"name"),new e(o,"name"),new e(l,"email"),new e(a,"birthdate"),new e(h,"quantity"),new e(null,"location",null,"locaCondCheck"),new e(!0,"termsAndConditions",!1)];for(let e of i)if(!e.check())return t.preventDefault(),!1;return!0}))})();